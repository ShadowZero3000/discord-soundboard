html
  head
    title Discord Soundboard
    link(rel="shortcut icon", href="media/discordbot-180.png", sizes="180x180")
    link(rel="shortcut icon", href="media/discordbot.png", sizes="32x32")
    link(type="text/css" rel="stylesheet" href="//unpkg.com/bootstrap/dist/css/bootstrap.min.css")
    link(type="text/css" rel="stylesheet" href="//unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.css")
    link(rel="stylesheet", href="css/darkly.min.css")
    style
      | [v-cloak] {
      |  display: none;
      | }
  body
    div(class="container")
      div(class="page-header alert alert-dark text-center")
        h1 Discord Soundboard

      a(class="btn btn-danger float-right" role="button" href="logout") Logout
      div(id="vuewrapper" v-cloak)
        search-box(inline-template :clips="clips")
          div(class="row" id="search")
            div(class="offset-9 col-3")
              input(id="searchbox" class="form-control" placeholder="Search..."  v-model="searchQuery" @input="isTyping = true")
            div(v-if="searching" class="col-11 offset-1 border border-primary")
              b-btn(:onclick="'play(\"'+clip+'\")'" style="margin:5px" variant="primary" v-for="clip in searchResults" :key="clip") {{ toTitleCase(clip) }}
        div(class="row" id="categories")
          div(class="col-3" id="leftnav" style="border=1px blue")
            div(class="container-fluid show collapse btn-group-toggle" role="group" data-toggle="buttons" v-for="subcats,category in clips.data", :key="category" style="margin:3px")
              b-btn(v-b-toggle="'cat_' + category" class="col-12" variant="success") {{ toTitleCase(category) }}
              b-collapse(:id="'cat_' + category" v-for="sounds, subcategory in subcats", :key="subcategory" style="margin:3px")
                b-btn(v-b-toggle="'cat_' + category + '_sub_' + subcategory" variant="primary" class="col-10 offset-1" ) {{ toTitleCase(subcategory) }}

          div(class="col-9" id="buttoncards")
            div(v-for="subcats, category in clips.data", :key="category" no-body="true")
              b-collapse(v-for="sounds,subcategory in subcats", :key="subcategory" :id="'cat_' + category + '_sub_' + subcategory")
                div(class="bg-secondary border border-dark p-1") {{ toTitleCase(category) }} - {{ toTitleCase(subcategory) }}
                b-btn(v-for="clipdata, clip in sounds", :key="clip" :id="'clip_' + clip" variant="primary" :onclick="'play(\"'+clip+'\")'" style="margin:5px") {{ toTitleCase(clip) }}

    // Modal for error display
    div(id="error-display" class="modal" tabindex="-1" role="dialog")
      div(class="modal-dialog" role="document")
        div(class="modal-content")
          div(class="modal-header")
            h5(class="modal-title") Server error
              button(type="button" class="close" data-dismiss="modal")
                span &times;
          div(class="modal-body")
            div(class="row") Looks like something exploded...
            div(id="error-message-holder" class="alert alert-warning row" role="alert")
          div(class="modal-footer")
            button(type="button" class="btn btn-secondary" data-dismiss="modal") Dismiss
    // script(src="//cdn.jsdelivr.net/npm/vue/dist/vue.js")
    script(src="//cdn.jsdelivr.net/npm/vue")
    script(src="//unpkg.com/babel-polyfill@latest/dist/polyfill.min.js")
    script(src="//unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.js")
    script(src="//cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.4/lodash.min.js")
    script(src="//unpkg.com/axios/dist/axios.min.js")
    script(src='js/app.js')
